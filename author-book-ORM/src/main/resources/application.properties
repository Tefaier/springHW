logging.level.root=INFO
spring.thymeleaf.cache=false
spring.web.resources.cache.period=0
spring.thymeleaf.prefix=classpath:/templates/

spring.datasource.url=jdbc:postgresql://localhost:32768/book_db
spring.datasource.username=postgres
spring.datasource.password=iqwe873bf

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false

author-registry.service.base.url=http://localhost:8081
author-registry.service.timeout.seconds=PT1S
author-registry.mode=http

resilience4j.ratelimiter.instances.bookRegistry.limitForPeriod=100
resilience4j.ratelimiter.instances.bookRegistry.limitRefreshPeriod=1s
resilience4j.ratelimiter.instances.bookRegistry.timeoutDuration=1s

resilience4j.circuitbreaker.instances.bookRegistry.failureRateThreshold=10
resilience4j.circuitbreaker.instances.bookRegistry.slowCallRateThreshold=10
resilience4j.circuitbreaker.instances.bookRegistry.slowCallDurationThreshold=5000
resilience4j.circuitbreaker.instances.bookRegistry.slidingWindowSize=100
resilience4j.circuitbreaker.instances.bookRegistry.slidingWindowType=COUNT_BASED
resilience4j.circuitbreaker.instances.bookRegistry.minimumNumberOfCalls=50
resilience4j.circuitbreaker.instances.bookRegistry.waitDurationInOpenState=60s

resilience4j.retry.instances.bookRegistry.retry-exceptions[0]=com.example.demo.models.exceptions.BookRegistryFailException
resilience4j.retry.instances.bookRegistry.wait-duration=500ms
resilience4j.retry.instances.bookRegistry.max-attempts=3

spring.kafka.bootstrap-servers=localhost:29093
spring.kafka.consumer.group-id=author-book-consumer
spring.kafka.consumer.enable-auto-commit=true

topic-book-rating-request=book-rating-check
topic-book-rating-result=book-rating-response
topic-book-purchase-request=book-purchase-validate
topic-book-purchase-result=book-purchase-response

book-rating.mode=kafka
book-purchase.mode=outbox

outbox-delay=10000